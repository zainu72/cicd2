name: cicd2

on:
 push:
   branches: [ main ]
 workflow_dispatch:
 
jobs:
  build:
   runs-on: ubuntu-latest
   steps:

       - name: checkout code
         uses: actions/checkout@v4
         
       - name: Set up Node.js
         uses: actions/setup-node@v4
         with:
           node-version: '18'
           
       - name: install dependencies
         run: npm install
         
       - name: Build the app
         run: echo "building the app.."

  test:
     runs-on: ubuntu-latest
     needs: build
     steps:

       - name: checkout code
         uses: actions/checkout@v4
         
       - name: Install dependencies
         run: npm install
         
       -  name: Run tests
          run: npm test

  deploy:
    runs-on: ubuntu-latest
    needs: test
    steps:
       - name: checkout code
         uses: actions/checkout@v4
         
       - name: Deploy app
         run: echo "deploying application"



          
        
       
        
   
   

 
  
